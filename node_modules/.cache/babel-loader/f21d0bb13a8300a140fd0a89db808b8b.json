{"ast":null,"code":"import _classCallCheck from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import DateRangePicker from'../DateRangePicker/DateRangePicker';import{utils}from'react-modern-calendar-datepicker';import'./CalendarDropdown.css';var CalendarDropdown=/*#__PURE__*/function(_React$Component){_inherits(CalendarDropdown,_React$Component);var _super=_createSuper(CalendarDropdown);function CalendarDropdown(props){var _this;_classCallCheck(this,CalendarDropdown);_this=_super.call(this,props);_this.state={active:false};// binders: \n_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleOutsideClick=_this.handleOutsideClick.bind(_assertThisInitialized(_this));return _this;}_createClass(CalendarDropdown,[{key:\"handleClick\",value:function handleClick(){if(!this.state.active){// attach/remove event handler\ndocument.addEventListener('click',this.handleOutsideClick,false);}else{document.removeEventListener('click',this.handleOutsideClick,false);}// toggle the states active prop\nthis.setState({active:!this.state.active});}},{key:\"handleOutsideClick\",value:function handleOutsideClick(e){// ignore clicks on the component itself\nif(this.node.contains(e.target)){return;}this.handleClick();}},{key:\"render\",value:function render(){var _this2=this;// toggle the visibility of the MultiSelect component\n// using the components state\nvar toggleVisibility=this.state.active?'':' hidden';// make a label\nvar label='';var fromDate=this.props.from?\"\".concat(this.props.from.day,\"/\").concat(this.props.from.month,\"/\").concat(this.props.from.year):'';var toDate=this.props.to?\"\".concat(this.props.to.day,\"/\").concat(this.props.to.month,\"/\").concat(this.props.to.year):'';// if a from date has not been chosen, output a 'Chose date range' msg\nif(!fromDate){label='Vælg Fra og Til';}else if(fromDate&&!toDate){label=fromDate;}else if(fromDate&&toDate){label=fromDate+\" - \"+toDate;}var toggleIcon=this.state.active?' rotate-icon':'';return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"CalendarDropdown-wrapper\",onClick:function onClick(){return _this2.handleClick();}},/*#__PURE__*/React.createElement(\"span\",{className:\"CalendarDropdown-label\"},label),/*#__PURE__*/React.createElement(\"i\",{className:\"CalendarDropdown-icon\"+toggleIcon})),/*#__PURE__*/React.createElement(\"div\",{className:\"SingleDatePicker-wrapper\"+toggleVisibility,ref:function ref(node){_this2.node=node;}},/*#__PURE__*/React.createElement(DateRangePicker,{from:this.props.from,to:this.props.to,handleDateClick:this.props.handleDateClick})));}}]);return CalendarDropdown;}(React.Component);;export default CalendarDropdown;","map":{"version":3,"sources":["/Users/nestos/Desktop/Code/glowspace/src/components/Search/StartSearch/CalendarDropdown/CalendarDropdown.js"],"names":["React","DateRangePicker","utils","CalendarDropdown","props","state","active","handleClick","bind","handleOutsideClick","document","addEventListener","removeEventListener","setState","e","node","contains","target","toggleVisibility","label","fromDate","from","day","month","year","toDate","to","toggleIcon","handleDateClick","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport DateRangePicker from '../DateRangePicker/DateRangePicker';\n\nimport { utils } from 'react-modern-calendar-datepicker';\n\nimport './CalendarDropdown.css'\n\nclass CalendarDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: false\n    };\n\n    // binders: \n    this.handleClick = this.handleClick.bind(this);\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\n  };\n\n  handleClick() {\n    if (!this.state.active) {\n      // attach/remove event handler\n      document.addEventListener('click', this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick, false);\n    }\n\n    // toggle the states active prop\n    this.setState({\n      active: !this.state.active\n    })\n  }\n\n  handleOutsideClick(e) {\n    // ignore clicks on the component itself\n    if (this.node.contains(e.target)) {\n      return;\n    }\n    \n    this.handleClick();\n  }\n\n  render() {\n    // toggle the visibility of the MultiSelect component\n    // using the components state\n    let toggleVisibility = this.state.active ? '' : ' hidden';\n\n    // make a label\n    let label = '';\n\n    let fromDate = this.props.from ? \n      `${this.props.from.day}/${this.props.from.month}/${this.props.from.year}`\n      : '';\n\n    let toDate = this.props.to ? \n      `${this.props.to.day}/${this.props.to.month}/${this.props.to.year}`\n      : '';\n\n    // if a from date has not been chosen, output a 'Chose date range' msg\n    if (!fromDate) {\n      label = 'Vælg Fra og Til'\n    } \n    \n    else if (fromDate && !toDate) {\n      label = fromDate;\n    } \n\n    else if (fromDate && toDate) {\n      label = fromDate + \" - \" + toDate\n    }\n\n    let toggleIcon = this.state.active ? ' rotate-icon' : '';\n\n    return(\n      <div>\n        <div \n          className=\"CalendarDropdown-wrapper\"\n          onClick={ () => this.handleClick() }\n        >\n          <span className=\"CalendarDropdown-label\">{label}</span>\n          <i className={\"CalendarDropdown-icon\" + toggleIcon}></i>\n        </div>\n        <div \n          className={\"SingleDatePicker-wrapper\" + toggleVisibility}\n          ref={node => { this.node = node; }}\n          >\n          <DateRangePicker\n            from={this.props.from}\n            to={this.props.to}\n            handleDateClick={this.props.handleDateClick}\n          /> \n        </div> \n      </div>    \n    );\n  };\n};\n\nexport default CalendarDropdown;\n"]},"metadata":{},"sourceType":"module"}