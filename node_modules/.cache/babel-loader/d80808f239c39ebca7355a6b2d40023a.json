{"ast":null,"code":"var _jsxFileName = \"/Users/nestos/Desktop/Code/glowspace/src/components/Search/SearchForm/SearchFormContainer.js\";\n// SearchFormContainer.js\nimport React, { Component } from \"react\";\nimport SearchForm from './SearchForm'; // Import icons\n\nimport iconHair from \"../../../assets/icons/hair.svg\";\nimport iconFace from \"../../../assets/icons/face.svg\";\nimport iconHand from \"../../../assets/icons/hand.svg\";\nimport iconBody from \"../../../assets/icons/body.svg\";\nimport iconFeet from \"../../../assets/icons/feet.svg\"; // Icons paths\n\nconst icons = [iconHair, iconFace, iconHand, iconBody, iconFeet]; // WARNING: currently it will not work to change the language settings \n\nlet treatmentLabels = {\n  eng: ['Hair', 'Face', 'Hands', 'Body', 'Feet'],\n  dk: ['Hår', 'Ansigt', 'Hænder', 'Krop', 'Fødder']\n}; // warning: it will not work to set a different locale (for now)\n// but I am enforcing this idea througout the code, for the future\n\nlet locale = 'dk'; // These are default values. Note: the order matters -\n// it matches the order of the treatments labels arr\n// many months later: but why? seems confusing to declare this array out of context, \n// why dont we create an object with the values instead?\n\nlet treatmentLabelIsActive = [true, true, true, true, true]; // why not do something like this instead? its less error prone, \n// and way more meaningful just by looking at it! \n\nconst labelsAndBools = {\n  [treatmentLabels[locale][0]]: true,\n  [treatmentLabels[locale][1]]: true,\n  [treatmentLabels[locale][2]]: true,\n  [treatmentLabels[locale][3]]: true,\n  [treatmentLabels[locale][4]]: true\n};\nconsole.log('labelsAndBooleans:');\nconsole.log(labelsAndBools);\n\nclass SearchFormContainer extends Component {\n  constructor(props) {\n    super(props); // Set the state\n\n    this.state = {\n      [treatmentLabels.dk[0]]: [treatmentLabelIsActive[0]],\n      [treatmentLabels.dk[1]]: [treatmentLabelIsActive[1]],\n      [treatmentLabels.dk[2]]: [treatmentLabelIsActive[2]],\n      [treatmentLabels.dk[3]]: [treatmentLabelIsActive[3]],\n      [treatmentLabels.dk[4]]: [treatmentLabelIsActive[4]],\n      // set the values for the from and to dates\n      from: null,\n      to: null\n    }; // Binders\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDateClick = this.handleDateClick.bind(this);\n    this.handleSubmitClick = this.handleSubmitClick.bind(this);\n  } // this handler is triggered when you click on a treatment-icon\n  // and when you click on a treatment-checkbox\n\n\n  handleClick(clickedTreatment) {\n    this.setState({\n      [clickedTreatment]: !this.state[clickedTreatment]\n    });\n  }\n\n  handleDateClick(e) {\n    this.setState({\n      from: e.from,\n      to: e.to\n    });\n  }\n\n  handleSubmitClick() {\n    this.props.getSearchResults(this.state);\n  }\n\n  render() {\n    // get the checked/unchecked array\n    let activeInactiveTreatmentArray = Object.values(this.state).slice(0, 5);\n    console.log('activeInactiveTreatmentArray:');\n    console.log(activeInactiveTreatmentArray); // get a list of the active labels\n\n    let chosenLabels = formatSelectedLabels(getSelectedLabels(this.state));\n    return /*#__PURE__*/React.createElement(SearchForm // why do we pass the labels array and the and the isCheckedArray?\n    // what if we pass the state object, or create a new nested array,\n    // ir something in the component instead... \n    // pass the labels array\n    , {\n      labels: treatmentLabels.dk // pass the default is checked array\n      ,\n      defValIsChecked: treatmentLabelIsActive // pass the list of icon paths\n      ,\n      icons: icons // pass the method used to get search results\n      ,\n      getSearchResults: this.handleSubmitClick,\n      isActiveArray: activeInactiveTreatmentArray,\n      onClick: this.handleClick,\n      activeLabels: chosenLabels,\n      fromDate: this.state.from,\n      toDate: this.state.to // Props for DatePicker\n      ,\n      onDatePick: this.handleDateClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default SearchFormContainer;\n/* \n\n  Helper Functions\n\n*/\n// takes the state object and returns an array,\n// that contains the chosen treatments - \n// treatments with a value of true\n\nconst getSelectedLabels = obj => {\n  // get an array of the components state key/value pars,\n  // this will result in an array of nested arrays\n  // and remove the 'from' and 'to' from the array\n  let objectsKeyValPairsArr = Object.entries(obj).slice(0, 5); // initiate an empty array that will store the selected labels only\n\n  const selectedLabelsArray = []; // loop through the objectsKeyValPairsArr (its an array of arrays)\n\n  objectsKeyValPairsArr.forEach((currentElement, i) => {\n    // in the current element ([<label>],[<isChecked>]),\n    // if isChecked is true   \n    if (currentElement[1]) {\n      // then push the label to the selectedLabelsArray\n      selectedLabelsArray.push(currentElement[0]);\n    }\n\n    ;\n  });\n  return selectedLabelsArray;\n}; // helper function, formatSelectedLabels,\n// takes an array contain the selected labels\n// and returns a new array with the formatted labels\n// for the dropdown component\n\n\nconst formatSelectedLabels = arr => {\n  // create a new array where each element has a space before the string,\n  // if not used, the result is: <label>,<label>,<label>\n  let formattedLabels = arr.map(element => \" \" + element);\n  return formattedLabels;\n};","map":{"version":3,"sources":["/Users/nestos/Desktop/Code/glowspace/src/components/Search/SearchForm/SearchFormContainer.js"],"names":["React","Component","SearchForm","icons","iconHair","iconFace","iconHand","iconBody","iconFeet","treatmentLabels","eng","dk","locale","treatmentLabelIsActive","labelsAndBools","console","log","SearchFormContainer","constructor","props","state","from","to","handleClick","bind","handleDateClick","handleSubmitClick","clickedTreatment","setState","e","getSearchResults","render","activeInactiveTreatmentArray","Object","values","slice","chosenLabels","formatSelectedLabels","getSelectedLabels","obj","objectsKeyValPairsArr","entries","selectedLabelsArray","forEach","currentElement","i","push","arr","formattedLabels","map","element"],"mappings":"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","sourcesContent":["// SearchFormContainer.js\n\nimport React, { Component } from \"react\";\nimport SearchForm from './SearchForm';\n\n// Import icons\nimport iconHair from '../../../assets/icons/hair.svg';\nimport iconFace from '../../../assets/icons/face.svg';\nimport iconHand from '../../../assets/icons/hand.svg';\nimport iconBody from '../../../assets/icons/body.svg';\nimport iconFeet from '../../../assets/icons/feet.svg';\n\n// Icons paths\nconst icons = [ iconHair, iconFace, iconHand, iconBody, iconFeet ];\n\n// WARNING: currently it will not work to change the language settings \nlet treatmentLabels = {\n  eng: ['Hair', 'Face', 'Hands', 'Body', 'Feet'],\n  dk: ['Hår', 'Ansigt', 'Hænder', 'Krop', 'Fødder'],\n}\n\n// warning: it will not work to set a different locale (for now)\n// but I am enforcing this idea througout the code, for the future\nlet locale = 'dk';\n\n// These are default values. Note: the order matters -\n// it matches the order of the treatments labels arr\n// many months later: but why? seems confusing to declare this array out of context, \n// why dont we create an object with the values instead?\nlet treatmentLabelIsActive = [true, true, true, true, true];\n// why not do something like this instead? its less error prone, \n// and way more meaningful just by looking at it! \nconst labelsAndBools = {\n  [treatmentLabels[locale][0]]: true,\n  [treatmentLabels[locale][1]]: true,\n  [treatmentLabels[locale][2]]: true,\n  [treatmentLabels[locale][3]]: true,\n  [treatmentLabels[locale][4]]: true,\n}\nconsole.log('labelsAndBooleans:');\nconsole.log(labelsAndBools);\n\nclass SearchFormContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    // Set the state\n    this.state = {\n      [treatmentLabels.dk[0]]: [treatmentLabelIsActive[0]],\n      [treatmentLabels.dk[1]]: [treatmentLabelIsActive[1]],\n      [treatmentLabels.dk[2]]: [treatmentLabelIsActive[2]],\n      [treatmentLabels.dk[3]]: [treatmentLabelIsActive[3]],\n      [treatmentLabels.dk[4]]: [treatmentLabelIsActive[4]],\n      // set the values for the from and to dates\n      from: null,\n      to: null, \n    }\n\n    // Binders\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDateClick = this.handleDateClick.bind(this);\n    this.handleSubmitClick = this.handleSubmitClick.bind(this);\n  }\n\n  // this handler is triggered when you click on a treatment-icon\n  // and when you click on a treatment-checkbox\n  handleClick(clickedTreatment) {\n    this.setState({ [clickedTreatment]: !this.state[clickedTreatment] });\n  }\n\n  handleDateClick(e) {\n    this.setState({\n      from: e.from,\n      to: e.to\n    });\n  }\n\n  handleSubmitClick() {\n    this.props.getSearchResults(this.state); \n  }\n\n  render() {\n    // get the checked/unchecked array\n    let activeInactiveTreatmentArray = Object.values(this.state).slice(0,5)\n    console.log('activeInactiveTreatmentArray:');\n    console.log(activeInactiveTreatmentArray);\n\n    // get a list of the active labels\n    let chosenLabels = formatSelectedLabels(getSelectedLabels(this.state));\n\n    return(\n      <SearchForm\n        \n        // why do we pass the labels array and the and the isCheckedArray?\n        // what if we pass the state object, or create a new nested array,\n        // ir something in the component instead... \n        \n        // pass the labels array\n        labels={treatmentLabels.dk}\n        // pass the default is checked array\n        defValIsChecked={treatmentLabelIsActive}\n\n\n        // pass the list of icon paths\n        icons={icons}\n\n        // pass the method used to get search results\n        getSearchResults={this.handleSubmitClick}\n\n        isActiveArray={activeInactiveTreatmentArray}\n\n        onClick={this.handleClick}\n\n        activeLabels={chosenLabels}\n\n        fromDate={this.state.from} \n\n        toDate={this.state.to}\n\n        // Props for DatePicker\n        onDatePick={this.handleDateClick} \n      />\n    )\n  }\n}\n\nexport default SearchFormContainer;\n\n\n\n\n\n/* \n\n  Helper Functions\n\n*/\n\n// takes the state object and returns an array,\n// that contains the chosen treatments - \n// treatments with a value of true\nconst getSelectedLabels = obj => {\n  // get an array of the components state key/value pars,\n  // this will result in an array of nested arrays\n  // and remove the 'from' and 'to' from the array\n  let objectsKeyValPairsArr = Object.entries(obj).slice(0,5)\n\n  // initiate an empty array that will store the selected labels only\n  const selectedLabelsArray = [];\n\n  // loop through the objectsKeyValPairsArr (its an array of arrays)\n  objectsKeyValPairsArr.forEach( (currentElement, i) => {\n    // in the current element ([<label>],[<isChecked>]),\n    // if isChecked is true   \n    if(currentElement[1]) {\n      // then push the label to the selectedLabelsArray\n      selectedLabelsArray.push(currentElement[0])\n    };\n  });\n\n  return selectedLabelsArray;\n};\n\n// helper function, formatSelectedLabels,\n// takes an array contain the selected labels\n// and returns a new array with the formatted labels\n// for the dropdown component\nconst formatSelectedLabels = arr => {\n  // create a new array where each element has a space before the string,\n  // if not used, the result is: <label>,<label>,<label>\n  let formattedLabels = arr.map( element => \" \" + element);\n\n  return formattedLabels;\n};\n\n"]},"metadata":{},"sourceType":"module"}