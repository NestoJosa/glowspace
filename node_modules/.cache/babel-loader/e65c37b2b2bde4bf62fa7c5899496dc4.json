{"ast":null,"code":"import _classCallCheck from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import GetSearchString from'./GetSearchString/GetSearchString';import Search from'./Search';var SearchContainer=/*#__PURE__*/function(_React$Component){_inherits(SearchContainer,_React$Component);var _super=_createSuper(SearchContainer);function SearchContainer(props){var _this;_classCallCheck(this,SearchContainer);_this=_super.call(this,props);_this.state={searchResults:null,lat:null,lon:null};_this.getSearchResults=_this.getSearchResults.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(navigator.geolocation){// the arrow-success-func is a required func for the \n// getCurrentPosition method and takes a position object only\nnavigator.geolocation.getCurrentPosition(function(position){_this2.setState({lat:position.coords.latitude,lon:position.coords.longitude});});};}},{key:\"getSearchResults\",// WIP: so why is it now working? searchParams undefined?\nvalue:function getSearchResults(searchParams){var _this3=this;// get a formatted string for the api from the passed search params\nvar stringForApi=GetSearchString(searchParams);fetch(stringForApi).then(function(res){return res.json();}).then(function(data){_this3.setState({searchResults:data});})// Log any errors to the console\n.catch(console.log);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Search,{getSearchResults:this.getSearchResults,unProcessedData:this.state.searchResults,clientCoordinates:{'clientLatitude':this.state.lat,'clientLongitude':this.state.lon}});}}]);return SearchContainer;}(React.Component);;export default SearchContainer;","map":{"version":3,"sources":["/Users/nestos/Desktop/Code/glowspace/src/components/Search/SearchContainer.js"],"names":["React","GetSearchString","Search","SearchContainer","props","state","searchResults","lat","lon","getSearchResults","bind","navigator","geolocation","getCurrentPosition","position","setState","coords","latitude","longitude","searchParams","stringForApi","fetch","then","res","json","data","catch","console","log","Component"],"mappings":"uwBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,e,8HACJ,yBAAYC,KAAZ,CAAmB,iDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,aAAa,CAAE,IADJ,CAEXC,GAAG,CAAE,IAFM,CAGXC,GAAG,CAAE,IAHM,CAAb,CAKA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CAPiB,aAQlB,C,yFAEmB,iBAClB,GAAIC,SAAS,CAACC,WAAd,CAA2B,CACzB;AACA;AACAD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0C,SAACC,QAAD,CAAc,CACtD,MAAI,CAACC,QAAL,CAAc,CACZR,GAAG,CAAEO,QAAQ,CAACE,MAAT,CAAgBC,QADT,CAEZT,GAAG,CAAEM,QAAQ,CAACE,MAAT,CAAgBE,SAFT,CAAd,EAID,CALD,EAMD,EACF,C,0BAED;gCACiBC,Y,CAAc,iBAE7B;AACA,GAAIC,CAAAA,YAAY,CAAGnB,eAAe,CAACkB,YAAD,CAAlC,CAEAE,KAAK,CAACD,YAAD,CAAL,CACGE,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACd,MAAI,CAACV,QAAL,CAAc,CAAET,aAAa,CAAEmB,IAAjB,CAAd,EACD,CAJH,CAKE;AALF,CAMGC,KANH,CAMSC,OAAO,CAACC,GANjB,EAOD,C,uCAEQ,CACP,mBACE,oBAAC,MAAD,EACE,gBAAgB,CAAE,KAAKnB,gBADzB,CAEE,eAAe,CAAE,KAAKJ,KAAL,CAAWC,aAF9B,CAGE,iBAAiB,CAAE,CACjB,iBAAkB,KAAKD,KAAL,CAAWE,GADZ,CAEjB,kBAAmB,KAAKF,KAAL,CAAWG,GAFb,CAHrB,EADF,CAUD,C,6BAlD2BR,KAAK,CAAC6B,S,EAmDnC,CAED,cAAe1B,CAAAA,eAAf","sourcesContent":["import React from 'react';\nimport GetSearchString from './GetSearchString/GetSearchString';\nimport Search from './Search';\n\nclass SearchContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: null,\n      lat: null,\n      lon: null,\n    };\n    this.getSearchResults = this.getSearchResults.bind(this);\n  };\n\n  componentDidMount() {\n    if (navigator.geolocation) {\n      // the arrow-success-func is a required func for the \n      // getCurrentPosition method and takes a position object only\n      navigator.geolocation.getCurrentPosition( (position) => {\n        this.setState({\n          lat: position.coords.latitude,\n          lon: position.coords.longitude\n        });\n      });\n    };\n  };\n\n  // WIP: so why is it now working? searchParams undefined?\n  getSearchResults(searchParams) {\n\n    // get a formatted string for the api from the passed search params\n    let stringForApi = GetSearchString(searchParams);\n\n    fetch(stringForApi)\n      .then(res => res.json())\n      .then((data) => {\n        this.setState({ searchResults: data });\n      })\n      // Log any errors to the console\n      .catch(console.log);\n  };\n\n  render() {\n    return(\n      <Search \n        getSearchResults={this.getSearchResults}\n        unProcessedData={this.state.searchResults}\n        clientCoordinates={{ \n          'clientLatitude': this.state.lat,  \n          'clientLongitude': this.state.lon,  \n        }}\n      />\n    );\n  };\n};\n\nexport default SearchContainer;\n"]},"metadata":{},"sourceType":"module"}