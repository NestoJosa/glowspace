{"ast":null,"code":"import _classCallCheck from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nestos/Desktop/Code/glowspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// SearchFormAndResultsContainer.js\nimport React from'react';import GetSearchString from'../components/Search/GetSearchString/GetSearchString';import SearchFormContainer from'./SearchFormContainer';import SearchResultsContainer from'./SearchResultsContainer';import searchImage from'../assets/saloon.png';var SearchFormAndResultsContainer=/*#__PURE__*/function(_React$Component){_inherits(SearchFormAndResultsContainer,_React$Component);var _super=_createSuper(SearchFormAndResultsContainer);function SearchFormAndResultsContainer(props){var _this;_classCallCheck(this,SearchFormAndResultsContainer);_this=_super.call(this,props);_this.state={searchResults:null,lat:null,lon:null};_this.getSearchResults=_this.getSearchResults.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchFormAndResultsContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(navigator.geolocation){// the arrow-success-func is a required func for the \n// getCurrentPosition method and takes a position object only\nnavigator.geolocation.getCurrentPosition(function(position){_this2.setState({lat:position.coords.latitude,lon:position.coords.longitude});});};}},{key:\"getSearchResults\",value:function getSearchResults(searchParams){var _this3=this;// Get a formatted string for the api from the passed search params\nvar stringForApi=GetSearchString(searchParams);fetch(stringForApi).then(function(res){return res.json();}).then(function(data){_this3.setState({searchResults:data});})// Log any errors to the console\n.catch(console.log);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"SearchFormAndResultWrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Search Search--showImage\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"Search__title\"},\"Find behandling\"),/*#__PURE__*/React.createElement(\"div\",{className:\"Search__form\"},/*#__PURE__*/React.createElement(SearchFormContainer,{getSearchResults:this.getSearchResults})),/*#__PURE__*/React.createElement(\"div\",{className:\"Search__image\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"SearchResults\"},/*#__PURE__*/React.createElement(\"div\",{className:\"SearchResults__cards\"},/*#__PURE__*/React.createElement(SearchResultsContainer,{unProcessedData:this.state.searchResults,clientCoordinates:{'clientLatitude':this.state.lat,'clientLongitude':this.state.lon}}))));}}]);return SearchFormAndResultsContainer;}(React.Component);;export default SearchFormAndResultsContainer;","map":{"version":3,"sources":["/Users/nestos/Desktop/Code/glowspace/src/containers/SearchFormAndResultsContainer.js"],"names":["React","GetSearchString","SearchFormContainer","SearchResultsContainer","searchImage","SearchFormAndResultsContainer","props","state","searchResults","lat","lon","getSearchResults","bind","navigator","geolocation","getCurrentPosition","position","setState","coords","latitude","longitude","searchParams","stringForApi","fetch","then","res","json","data","catch","console","log","Component"],"mappings":"uwBAAA;AAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,sDAA5B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,C,GAEMC,CAAAA,6B,0JACJ,uCAAYC,KAAZ,CAAmB,+DACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,aAAa,CAAE,IADJ,CAEXC,GAAG,CAAE,IAFM,CAGXC,GAAG,CAAE,IAHM,CAAb,CAKA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CAPiB,aAQlB,C,uGAEmB,iBAClB,GAAIC,SAAS,CAACC,WAAd,CAA2B,CACzB;AACA;AACAD,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAA0C,SAACC,QAAD,CAAc,CACtD,MAAI,CAACC,QAAL,CAAc,CACZR,GAAG,CAAEO,QAAQ,CAACE,MAAT,CAAgBC,QADT,CAEZT,GAAG,CAAEM,QAAQ,CAACE,MAAT,CAAgBE,SAFT,CAAd,EAID,CALD,EAMD,EACF,C,0DAEgBC,Y,CAAc,iBAC7B;AACA,GAAIC,CAAAA,YAAY,CAAGrB,eAAe,CAACoB,YAAD,CAAlC,CAEAE,KAAK,CAACD,YAAD,CAAL,CACGE,IADH,CACQ,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADX,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACd,MAAI,CAACV,QAAL,CAAc,CAAET,aAAa,CAAEmB,IAAjB,CAAd,EACD,CAJH,CAKE;AALF,CAMGC,KANH,CAMSC,OAAO,CAACC,GANjB,EAOD,C,uCAEQ,CACP,mBACE,2BAAK,SAAS,CAAC,4BAAf,eAEI,2BAAK,SAAS,CAAC,0BAAf,eAEE,0BAAI,SAAS,CAAC,eAAd,oBAFF,cAGE,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,mBAAD,EACE,gBAAgB,CAAE,KAAKnB,gBADzB,EADF,CAHF,cAQE,2BAAK,SAAS,CAAC,eAAf,EARF,CAFJ,cAcI,2BAAK,SAAS,CAAC,eAAf,eAIE,2BAAK,SAAS,CAAC,sBAAf,eAEE,oBAAC,sBAAD,EACE,eAAe,CAAE,KAAKJ,KAAL,CAAWC,aAD9B,CAEE,iBAAiB,CAAE,CACjB,iBAAkB,KAAKD,KAAL,CAAWE,GADZ,CAEjB,kBAAmB,KAAKF,KAAL,CAAWG,GAFb,CAFrB,EAFF,CAJF,CAdJ,CADF,CAiCD,C,2CAvEyCV,KAAK,CAAC+B,S,EAwEjD,CAED,cAAe1B,CAAAA,6BAAf","sourcesContent":["// SearchFormAndResultsContainer.js\n\nimport React from 'react';\nimport GetSearchString from '../components/Search/GetSearchString/GetSearchString';\nimport SearchFormContainer from './SearchFormContainer';\nimport SearchResultsContainer from './SearchResultsContainer';\nimport searchImage from '../assets/saloon.png';\n\nclass SearchFormAndResultsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: null,\n      lat: null,\n      lon: null,\n    };\n    this.getSearchResults = this.getSearchResults.bind(this);\n  };\n\n  componentDidMount() {\n    if (navigator.geolocation) {\n      // the arrow-success-func is a required func for the \n      // getCurrentPosition method and takes a position object only\n      navigator.geolocation.getCurrentPosition( (position) => {\n        this.setState({\n          lat: position.coords.latitude,\n          lon: position.coords.longitude\n        });\n      });\n    };\n  };\n\n  getSearchResults(searchParams) {\n    // Get a formatted string for the api from the passed search params\n    let stringForApi = GetSearchString(searchParams);\n\n    fetch(stringForApi)\n      .then(res => res.json())\n      .then((data) => {\n        this.setState({ searchResults: data });\n      })\n      // Log any errors to the console\n      .catch(console.log)\n  };\n\n  render() {\n    return(\n      <div className=\"SearchFormAndResultWrapper\">\n      \n          <div className=\"Search Search--showImage\">\n\n            <h2 className=\"Search__title\">Find behandling</h2>\n            <div className=\"Search__form\">\n              <SearchFormContainer \n                getSearchResults={this.getSearchResults}\n              />\n            </div>\n            <div className=\"Search__image\"></div>\n\n          </div>\n\n          <div className=\"SearchResults\">\n            {/* <h2 className=\"SearchResults__title\">\n              search results title: include the search parameters\n            </h2> */}\n            <div className=\"SearchResults__cards\">\n              {/* prev_ ProcessSearchResults*/}\n              <SearchResultsContainer \n                unProcessedData={this.state.searchResults}\n                clientCoordinates={{ \n                  'clientLatitude': this.state.lat,  \n                  'clientLongitude': this.state.lon,  \n                }}\n              />\n            </div>\n          </div>\n\n      </div>\n    );\n  };\n};\n\nexport default SearchFormAndResultsContainer;"]},"metadata":{},"sourceType":"module"}